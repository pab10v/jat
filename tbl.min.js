"use strict";class jsgrid{options={style:"tblr",customIndex:!0,colIndex:"project_id",resizeable:!0,selectClass:"rowselected",sortedClass:"sorted",behave:"destructive",gutter:{background:"gray",opacity:4},livedrag:!0,sortable:!0,search:!0,i18n:"es",stylize:"internal",numberFormat:!0,numberLocal:"en-US",wraptext:!1,footer:!0,stickyfooter:!0,onRowSelected:this.returnRow};drag={gutter:void 0,current:void 0,sibling:void 0,currWidth:void 0,nextWidth:void 0,position:0,offset:0};sort={field:void 0,sort:void 0,previousField:void 0};search={field:void 0,type:"string"};pager={page:1,pages:void 0};rowHighlighted=null;dome=null;constructor(t,e,s){this.init(t,s),this.headers=e.headers,this.rows=e.rows,this.populate(),this.toolbar(),this.footTable(),this.resizeable(),this.sortable(),this.adjustColumns(),window.addEventListener("resize",this.adjustTable.bind(this),!0)}adjustTable(t){this.adjustColumns(),this.pagination()}init(t,e){this.setDom(t),this.id=this.randomString(),this.setOptions(e),this.createTableStructure()}createTableStructure(){this.tblContainer=document.createElement("div"),this.tblContainer.id="tblcontainer",this.stylize(this.tblContainer,{width:"99.8%",maxWidth:"99.9%"}),this.table=document.createElement("table"),this.head=this.table.createTHead(),this.body=this.table.createTBody(),this.footer=this.table.createTFoot(),this.table.id="jsgrid-table",this.head.id="jsgrid-head",this.body.id="jsgrid-body",this.footer.id="jsgrid-footer",this.tblBox=this.table,this.tblContainer.appendChild(this.table),this.dome.appendChild(this.tblContainer),this.tblContainer.classList.add(this.options.style),this.options.i18n&&(this.lang=this.options.i18n,this.text=this.i18n[this.lang])}setDom(t){this.dome=t,this.stylize(this.dome,{height:"100% !important",width:"100% !important",position:"relative"}),"destructive"===this.options.behave&&(this.dome.textContent="")}addHeaders(){const t=this.tblContainer.getBoundingClientRect(),e=this.head.insertRow();this.headers.forEach((function(s){let i=document.createElement("th");i.id=s.name,s.style.width=this.thWidth(s,t.width),this.stylize(i,{display:s.style.display,width:s.style.width}),i.appendChild(document.createTextNode(s.title)),e.appendChild(i)}),this)}populate(){var t=window.visualViewport;this.addHeaders();let e="small"==this.viewCategory(t.width);this.rows.forEach((function(t,s,i){const r=this.body.insertRow();r.id=this.options.customIndex?t[this.options.colIndex]:s,r.setAttribute("internal",this.randomString()),this.headers.forEach((function(s){let i=r.insertCell();i.id=s.name;let n=t[s.name];i.title=n,this.stylize(i,s.style),i.appendChild(document.createTextNode(n)),(this.options.wraptext||e)&&this.stylize(i,this.styles.tdwrap),this.isAnNumber(n)&&(i.style.textAlign="right",i.innerHTML=this.formatData(i.innerHTML))}),this),0===s&&this.setSelectedRow(r),r.classList.add(s%2==0?"even":"odd"),r.addEventListener("click",this.clickOnRow.bind(this),!1)}),this)}fixTableSize(){window.visualViewport;const t=this.dome.clientHeight,e=this.pager.statusbar?this.pager.statusbar.clientHeight:40;let s=this.getMaxSizeInChildren(this.tools,"clientHeight")||0;const i=(t-s)/t*100+"%",r=100*(t-s-(e+80))/(t-s)+"%";this.stylize(this.tblContainer,{width:"99.5% !important",height:`${i}`,margin:"0.5em auto 0.5em"}),this.stylize(this.tblBox,{width:"98.5% !important",height:`${r}`,margin:"0 auto 0"})}getMaxSizeInChildren(t,e){if(!t||!t.hasChildNodes())return!1;let s=Array.prototype.map.call(t.children,(function(t){return t[e]}));return Math.max(...s)}footTable=function(){this.options.footer&&(this.options.stickyfooter?this.table.after(this.addFixPagerBar()):this.footer.appendChild(this.addPagerBar()),this.pagination())};addPagerBar(){let t=document.createElement("tr"),e=t.insertCell();return this.setElement(t,{name:"trpager",id:"trpager",className:"trpager"}),this.setElement(e,{name:"tdpager",id:"tdpager",className:"tdpager"}),this.stylize(t,this.styles.trpager),this.stylize(e,this.styles.tdpager),e.setAttribute("colspan",this.headers.length),this.pager.statusbar=document.createElement("div"),this.pager.statusbar.id="paginationStatus",e.appendChild(this.pager.statusbar),this.pager.statusbar.appendChild(this.addPagerMessages("")),this.pager.statusbar.appendChild(this.addButtons()),t}addFixPagerBar(){return this.pager.statusbar=document.createElement("div"),this.setElement(this.pager.statusbar,{id:"paginationStatus"}),this.stylize(this.pager.statusbar,this.styles.statusbar),this.pager.statusbar.appendChild(this.addPagerMessages("")),this.pager.statusbar.appendChild(this.addButtons()),this.pager.statusbar}addButtons(){let t=document.createElement("span");t.id="pager-buttons";let e=this.addButton("prev","previous"),s=this.addButton("next","next");return t.appendChild(e),t.appendChild(s),e.style.display="none",s.style.display=1==this.pager.pages?"none":"",this.pager.prev=e,this.pager.next=s,t}addButton=function(t,e){let s=document.createElement("BUTTON");this.stylize(s,this.styles.pagerbotton),this.setElement(s,{name:e,id:e,className:e}),s.addEventListener("click",this.movePages.bind(this),!1);let i=document.createTextNode(this.msg(t));return s.appendChild(i),s};addPagerMessages=function(t){let e=document.createElement("span");return e.innerHTML=t||"",this.setElement(e,{name:"pager-message",id:"pager-message",className:"pager-message"}),this.stylize(e,this.styles.pagermessage),this.pager.messages=e,e};pagination=function(){let t=this.body.firstChild.offsetHeight?this.body.firstChild.offsetHeight:32,e=1,s=this.getMaxSizeInChildren(this.tools,"clientHeight"),i=this.tblContainer.clientHeight-s;if(this.pager.rowsPerPage=Math.floor(i/t)-1,this.pager.totalRows=this.body.rows.length,this.pager.pages=Math.ceil(this.pager.totalRows/this.pager.rowsPerPage),1!=this.pager.pages){Array.prototype.map.call(this.body.rows,(function(t,s){t.style.display=1!==e?"none":"",this.removeClassByPrefix(t,"page_"),this.addClass(t,`page_${e}`),(s+1)%this.pager.rowsPerPage==0&&e++,t.classList.add(s%2==0?"even":"odd")}),this);this.pager.pages=e,this.pager.page=1,this.pager.showing=1,this.updatePagerMessage()}};movePages=function(t){let e=t.currentTarget;this.pager.page="previous"===e.id?this.prevPage():this.nextPage(),this.updatePagerMessage(),this.inRange(this.pager.page,1,this.pager.pages)&&(this.hideActivePage(),this.showSelectedPage())};updatePagerMessage(){this.pager.prev.style.display=this.pager.page<=1?"none":"",this.pager.next.style.display=this.pager.page>=this.pager.pages?"none":"";let t=`${this.msg("page")} ${this.pager.page} ${this.msg("of")} ${this.pager.pages}`;this.pager.messages.innerHTML=t}hideActivePage(){Array.prototype.map.call(this.body.rows,(function(t){t.classList.contains(`page_${this.pager.showing}`)&&(t.style.display="none")}),this)}showSelectedPage(){Array.prototype.map.call(this.body.rows,(function(t){t.classList.contains(`page_${this.pager.page}`)&&(t.style.display="")}),this);this.pager.showing=this.pager.page}nextPage=function(){return this.pager.page+1>this.pager.pages?this.pager.pages:this.pager.page+1};prevPage(){return this.pager.page-1<1?1:this.pager.page-1}selectClass=function(){return Object.hasOwn(this.options,"selectClass")?this.options.selectClass:"selected"};setSelectedRow=function(t){this.rowHighlighted=t,t.classList.toggle(this.options.selectClass),t.setAttribute("selected","selected")};setUnselectedRow=function(t){t.classList.toggle(this.options.selectClass),t.setAttribute("selected","")};clickOnRow=function(t){t.preventDefault();let e=t.target||t.srcElement,s=t.currentTarget,i=s.cells;i[e.cellIndex].innerText;return this.options.onRowSelected(this.getRowByindex(i)),this.setUnselectedRow(this.rowHighlighted),this.setSelectedRow(s),!1};returnRow(t){console.log(t)}getRowByindex(t,e="json"){var s=[];return Object.entries(t).forEach((function(t,e){let[i,r]=t;s.push({[r.id]:r.innerText})}),this),s}adjustColumns(){const t=this.dome.clientWidth,e=(window.visualViewport,this.head.firstElementChild);let s=Array.prototype.reduce.call(e.children,((t,e)=>t+e.clientWidth),0);Array.prototype.map.call(e.children,(e=>{let i=e.clientWidth/s*t;e.clientWidth;e.style.width=`${i}px`}))}thWidth=function(t,e,s="20px"){let i=t.style.width||s;return i="none"==t.display?0:i,i.indexOf("%")>=0?parseInt(i)/100*parseInt(e)+"px":i};setOptions=function(t){this.options=Object.assign(this.options,t),this.options.customIndex=Object.hasOwn(this.options,"colIndex"),null==this.sets("selectClass")&&(this.options.selectClass="selected")};toolbar=function(){this.tools=document.createElement("div"),this.tools.appendChild(this.leftTools()),this.setElement(this.tools,{name:"tools",id:"tools",className:"tools"}),this.setIconTool(),this.options.search&&(this.search.box=this.searchInput(this),this.tools.appendChild(this.search.box)),this.dome.prepend(this.tools)};setIconTool=function(){const t={filter:{icon:this.images.filter,style:this.styles.icontools,title:this.msg("toolsfilter")},fields:{icon:this.images.fields,style:this.styles.icontools,title:this.msg("toolsfields")}};if(this.tools.hasChildNodes()){let e=this.tools.children.namedItem("tabletools");Object.entries(t).forEach((t=>{const[s,i]=t;let r=document.createElement("div");this.setElement(r,{id:s,name:s,className:s,title:i.title}),r.innerHTML=this.images[s],r.addEventListener("click",this.iconExe.bind(this)),this.stylize(r,this.styles.icontools),e.appendChild(r)}))}};iconExe=function(t){const e=t.currentTarget;this.tools.children.namedItem("tabletools");switch(e.id){case"filter":let t=this.search.box;t.style.display="none"==t.style.display?"":"none";break;case"fields":this.fieldList(e)}};fieldList=function(t){let e=this.dome.children.namedItem("boxlist");if(e)e.style.display="block";else{let t=document.createElement("div"),e=document.createElement("span");this.setElement(t,{name:"boxlist",id:"boxlist",className:"boxlist"}),this.setElement(e,{id:"close",className:"close"}),e.innerHTML=this.images.hide,e.addEventListener("click",this.fieldsCloseEvent.bind(this)),t.addEventListener("mouseout",this.fieldsMouseOut.bind(this)),this.stylize(e,{width:"16px",float:"right"}),t.appendChild(e);let s=document.createElement("div");s.innerHTML=this.msg("boxtitle"),this.stylize(s,{borderBottom:"solid 1px #0000001a",marginTop:"-12px"}),t.appendChild(s);const i=document.createElement("ul");this.headers.forEach((function(t,e,s){i.appendChild(this.fieldBox(t,e,this))}),this),this.stylize(i,this.styles.checkboxes);let r=this.tools.children.namedItem("tabletools");this.stylize(t,{left:this.valToPx(r.offsetWidth+r.offsetLeft),top:this.valToPx(r.offsetHeight+r.offsetTop)}),t.appendChild(i),this.dome.appendChild(t),t.style.width=this.valToPx(1.2*t.offsetWidth)}document.addEventListener("keydown",this.keyPressed.bind(this),{passive:!0,once:!0})};fieldBox=function(t,e,s){const i=document.createElement("li"),r=document.createElement("input"),n=document.createElement("label");return r.type="checkbox",r.name=t.name,r.value=e,r.id=t.name,r.checked="none"!==t.style.display,r.addEventListener("click",this.fieldSelector.bind(s)),n.htmlFor=t.name,n.appendChild(document.createTextNode(t.name)),n.style.paddingLeft="5px",i.appendChild(r),i.appendChild(n),i};fieldSelector=function(t){t.stopPropagation();const e=t.currentTarget,s=parseInt(e.value),i=this.headers[s],r=this.getNamedHeaderById(e.name);i.style.display=e.checked?"":"none",r.style.display=e.checked?"":"none";const n=this.safeParseInt(i.style.width);e.checked&&!n&&(i.style.width=n?this.valToPx(n):"20px",r.style.width=n?this.valToPx(n):"20px");let o=this.body.children;Array.prototype.map.call(o,(function(t,s){t.cells.namedItem(e.name).style.display=i.style.display}),this)};fieldsMouseOut=function(t){const e=t.currentTarget.getBoundingClientRect(),s=t.clientX,i=t.clientY;this.inRange(s,e.left+1,e.right-1)&&this.inRange(i,e.top-1,e.bottom-1)||(t.currentTarget.style.display="none")};inRange=function(t,e,s){return(parseFloat(t)-parseFloat(e))*(parseFloat(t)-parseFloat(s))<=0};fieldsCloseEvent=function(t){const e=t.currentTarget;"close"==e.id&&(e.parentNode.style.display="none"),"boxlist"==e.id&&(e.currentTarget.style.display="none")};getNamedHeaderById=function(t){return this.head.firstChild.cells.namedItem(t)};getIdHeaderByName=function(t){return Object.keys(this.headers).forEach((function(e,s){if(e==t)return s})),null};toggle(t){var e=document.getElementById("checkbox");t!=e.checked&&e.click()}searchFieldOnKeyUpEvent=function(t){let e=t.code,s=t.currentTarget.value;this.rows;"Escape"==e&&(s="",t.currentTarget.value=s),this.filterBody(s),this.options.footer&&(this.pager.statusbar.style.display=s?"none":"",s||this.pagination())};filterBody=function(t){const e=this.search.oper;let s=this.rows,i=this.compare[e];return this.sort.filtered=s.filter((function(e,s){let r=!1,n=e[this.search.field],o=t;switch(this.search.type){case"date":break;case"string":n=n.toLowerCase(),o=o.toLowerCase();break;case"number":n=parseFloat(n),o=parseFloat(o)}return r=i(n,o),this.body.rows[s].style.display=r?"":"none",!r}),this)};arrayFromTable=function(t){return Array.prototype.map.call(t,(function(t){return Array.prototype.map.call(t.children,(function(t){return t.innerHTML}))}))};populateTBody=function(t,e,s,i=!0){let r=this.body.children;return Array.prototype.map.call(r,(function(e,r){const n=t[r];this.removeClassByPrefix(e,"page_"),e.classList.remove("odd","even"),e.style.display="",Array.prototype.map.call(this.headers,(function(t,r){let o=e.cells.namedItem(t.name);o.innerHTML=n[t.name],o.classList.remove(i?this.options.sortedClass:"sorted"),s===t.name&&o.classList.add(i?this.options.sortedClass:"sorted")}),this)}),this),e};getTypeOf=function(t){return null!==this.getDateFromString(t)?"date":this.isAnNumber(t)?"number":"string"};leftTools=function(){let t=document.createElement("div");return t.classList.add("tabletools"),t.id="tabletools",this.stylize(t,this.styles.tabletools),t};searchInput=function(){let t=document.createElement("div"),e=document.createElement("input");return this.setElement(t,{name:"search",id:"search",className:"search"}),this.setElement(e,{id:"searchinput",title:this.msg("searchinput"),placeholder:this.msg("searchinput"),type:"text",className:"searchinput"}),this.stylize(e,this.styles.searchinput),e.addEventListener("keyup",this.searchFieldOnKeyUpEvent.bind(this)),t.appendChild(this.fieldsSelector()),t.appendChild(this.operToFilter()),t.appendChild(e),t.appendChild(this.addClearField()),t};addClearField(){let t=document.createElement("div");return t.innerHTML=this.images.clear,t.title=this.msg("clearinput"),this.stylize(t,this.styles.clearsearch),t.addEventListener("click",this.clearSearchInput.bind(this)),t}clearSearchInput(){let t=this.search.box.children.namedItem("searchinput");this.pager.statusbar.style.display="",t.value&&(t.value="",this.pagination())}operToFilter=function(){this.search.ops=this.compare;const t=document.createElement("select");return t.id="opselector",Object.entries(this.search.ops).forEach((function(e,s){const[i,r]=e;var n=document.createElement("option");n.value=i,n.id=i,n.text=i,n.selected=0===s,t.appendChild(n)})),this.search.oper=t.value,this.stylize(t,this.styles.opselector),t.addEventListener("change",this.onChangeOperEvent.bind(this)),t};onChangeOperEvent=function(t){const e=t.currentTarget;this.search.oper=e.value;let s=this.search.box.children.namedItem("searchinput").value;s&&this.filterBody(s)};fieldsSelector=function(t){const e=document.createElement("select");e.id="fieldselector",e.classList.add("fieldselector"),this.stylize(e,this.styles.fieldselector),this.headers.forEach((function(t,s){if("none"!==t.style.display){var i=document.createElement("option");i.value=t.name,i.id=t.name,i.text=t.title,i.selected=0===s,e.appendChild(i)}}),this);const s=this.rows[0];return this.search.field=e.value,this.search.type=this.getTypeOf(s[this.search.field]),e.addEventListener("change",this.onChangeFieldSelectorEvent.bind(this)),e};onChangeFieldSelectorEvent=function(t){const e=t.currentTarget;let s=this.search.box.children;this.search.field=e.value;const i=this.rows[0];this.search.type=this.getTypeOf(i[this.search.field]);let r=s.namedItem("searchinput").value;r&&this.filterBody(r)};resizeable=function(){if(!this.sets("resizeable")||!this.head.firstElementChild.hasChildNodes())return;let t=this.head.firstElementChild.cells;this.table.overflow="hidden",this.headers.forEach((function(e,s){let i=t.namedItem(e.name),r=this.gutterDiv(e.name);r.addEventListener("mousedown",this.gutterMouseDownEvent.bind(this),!1),r.addEventListener("mouseover",this.gutterMouseOverEvent.bind(this),!1),r.addEventListener("mouseout",this.gutterMouseOutEvent.bind(this),!1),i.addEventListener("mouseup",this.gutterMouseUpEvent.bind(this),!1),i.addEventListener("mousemove",this.gutterMouseMoveEvent.bind(this),!1),i.style.position="relative",i.appendChild(r)}),this)};gutterDiv=function(t){var e=document.createElement("div");return e.id=t?"drag_"+t:this.randomString(),e.classList.add("jsgutter"),this.stylize(e,this.styles.gutter),e};splitter=function(){let t=document.createElement("div");const e=this.valToPx(this.tblContainer.clientHeight-this.head.offsetHeight),s=this.valToPx(this.head.offsetHeight);return this.stylize(t,{height:e,top:s}),this.stylize(t,this.styles.splitter),t.classList.add("splitter"),t};gutterMouseOverEvent=function(t){const e=t.currentTarget;this.stylize(e,this.styles.gutterhover)};gutterMouseOutEvent=function(t){const e=t.currentTarget;this.stylize(e,this.styles.gutterout),t.buttons};gutterMouseDownEvent=function(t){const e=t.target;return t.preventDefault(),t.stopPropagation(),!!e.classList.contains("jsgutter")&&(this.gutterOn(e),this.drag.current=e.parentElement,this.drag.sibling=this.drag.current.nextElementSibling,this.drag.position=t.pageX,this.drag.offset=this.paddingDiff(this.drag.current),this.drag.currWidth=this.drag.current.offsetWidth-this.drag.offset,this.drag.sibling&&(this.drag.nextWidth=this.drag.sibling.offsetWidth-this.drag.offset),this.drag.gutter=e,!1)};gutterMouseMoveEvent=function(t){t.preventDefault(),t.stopPropagation();t.currentTarget;return this.drag.current&&t.buttons?(this.drag.offset=t.pageX-this.drag.position,this.drag.sibling&&(this.drag.sibling.style.width=this.drag.nextWidth-this.drag.offset+"px"),this.drag.current.style.width=this.drag.currWidth+this.drag.offset+"px"):0===t.buttons&&this.drag.current&&this.cleanGutterSelected(this.drag.current),!1};gutterMouseUpEvent=function(t){if(t.preventDefault(),t.stopPropagation(),this.drag.current){const t=this.drag.gutter;this.stylize(t,this.styles.gutterout),t.innerHTML="",t.classList.remove("dragging")}return this.drag={gutter:void 0,current:void 0,sibling:void 0,currWidth:void 0,nextWidth:void 0,position:0,offset:0},!1};cleanGutterSelected=function(t){t.classList.contains("dragging")&&(this.stylize(t,{backgroundColor:"gray",opacity:.5}),t.innerHTML="",t.classList.remove("dragging")),this.drag={gutter:void 0,current:void 0,sibling:void 0,currWidth:void 0,nextWidth:void 0,position:0,offset:0}};gutterOn=function(t,e="#4668ED",s="dragging"){this.addClass(t,s),t.appendChild(this.splitter())};paddingDiff=function(t){if("border-box"==this.getStyleVal(t,"box-sizing"))return 0;const e=this.getStyleVal(t,"padding-left"),s=this.getStyleVal(t,"padding-right");return parseInt(e)+parseInt(s)};getStyleVal=function(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)};sortable=function(){if(this.sets("sortable")){let t=this.head.firstElementChild.cells;this.sort.sorters=[],this.headers.forEach((function(e,s){let i=t.namedItem(e.name),r=this.sorterDiv(e.name);i.appendChild(r),this.setElement(i,{field:e.name,sorter:r.id,ariaSort:"ascending"}),i.classList.add("jssorter"),this.sort.sorters[e.name]=r,i.addEventListener("mouseover",this.headerMouseOverEvent.bind(this)),i.addEventListener("mouseout",this.headerMouseOutEvent.bind(this)),i.addEventListener("click",this.sortByField.bind(this),!1)}),this)}};headerMouseOverEvent=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation();let e=t.currentTarget;return this.showIcon(e.id),!1};headerMouseOutEvent=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation();let e=t.currentTarget;return this.getSortingClass(e.id)||this.hideSortIcon(e.id),!1};sorterDiv=function(t){var e=document.createElement("div");return this.setElement(e,{id:`sorter_${t}`,field:t,title:"Sort in descending order",ariaSort:"descending",className:"sorter",sorting:!1}),this.stylize(e,this.styles.sorter),e.innerHTML=this.images.arrowdown,e};sortByField=function(t){const e=t.currentTarget;this.sort.field=e.id,this.sort.previousField&&this.sort.previousField!==this.sort.field&&(this.hideSortIcon(this.sort.previousField),this.removeSortingClass(this.sort.previousField)),this.setSortingClass(e.id),this.lightUpHeader();var s=this.sortIt(this.sort.field);this.populateTBody(s,this.body,this.sort.field);return this.pagination(),this.toggleIcon(this.sort.field),this.sort.previousField=this.sort.field,t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1};wipeRows=function(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild);return t};wipeChildren(t){for(;t.hasChildNodes();)t.removeChild(t.firstChild);return t}lightUpHeader(){if(this.getNamedHeaderById(this.sort.field).style.filter="brightness(190%)",this.sort.previousField){this.getNamedHeaderById(this.sort.previousField).style.filter=this.sort.previousField==this.sort.field?"brightness(190%)":""}}nextOrder(t){return"ascending"===t?"descending":"ascending"}sortIt=function(t){const e=this.dataType();return this.sort.field!==this.sort.previousField?(this.sort.arrTable=this.rows,this.sort.arrTable.sort(((s,i)=>{let r=s[t],n=i[t];return"date"==e&&(r=new Date(r).getTime(),n=new Date(n).getTime()),"string"==e&&(r=r.toLowerCase(),n=n.toLowerCase()),"number"==e?r.localeCompare(n,void 0,{numeric:!0}):r===n?0:r<n?-1:1}))):this.sort.arrTable.reverse(),this.sort.arrTable};dataType=function(){const t=this.rows[0][this.sort.field];return null!==this.getDateFromString(t)?"date":this.isAnNumber(t)?"number":"string"};hideSortIcon=function(t,e="none"){this.sort.sorters[t].style.display=e};showIcon=function(t,e=""){this.sort.sorters[t].style.display=e};setSortingAttribute(t,e=!1){this.sort.sorters[t].setAttribute("sorting",e)}getSortingClass(t){return this.sort.sorters[t].classList.contains("sorting")}setSortingClass(t){this.addClass(this.sort.sorters[t],"sorting")}removeSortingClass(t){this.removeClass(this.sort.sorters[t],"sorting")}toggleIcon=function(t,e=""){let s=this.sort.sorters[t];"ascending"===s.getAttribute("ariaSort")?(s.innerHTML=this.images.arrowdown,s.title="Sort in descending order",s.setAttribute("ariaSort","descending")):(s.innerHTML=this.images.arrowup,s.title="Sort in ascending order",s.setAttribute("ariaSort","ascending")),s.setAttribute("sorting",!0),s.style.display=e};keyPressed=function(t){if(t.stopImmediatePropagation(),"Escape"===t.key){this.dome.children.boxlist.style.display="none"}return!1};invertHex=function(t){return(16777215^Number(`0x1${t} `)).toString(16).substr(1).toUpperCase()};varToString=t=>Object.keys(t)[0];setElement=function(t,e){e.className&&(this.addClass(t,e.className),this.stylize(t,this.styles[e.name])),Object.keys(e).forEach((function(s){t.setAttribute(s,e[s])}))};addClass=function(t,e){if(!e)return;(Array.isArray(t)?t:[t]).forEach((t=>{t.classList?t.classList.add(e.split(" ")):t.className+=` ${e} `}))};removeClass=function(t,e){if(!e)return;(Array.isArray(t)?t:[t]).forEach((t=>{t.classList?t.classList.remove(e.split(" ")):t.className=t.className.replace(new RegExp(`(^|\\b)${e.split(" ").join("|")} (\\b | $)`,"gi")," ")}))};removeClassByPrefix(t,e){var s=new RegExp("\\b"+e+".*?\\b","g");return t.className=t.className.replace(s,""),t}stringToDate=function(t,e="obj"){let[s,i,r,n,o,a]=t.split(/[- :]/),l=new Date(s,parseInt(i)-1,r,n,parseInt(o),a);return"obj"==e?l:l.valueOf()};getDateFromString=function(t){return t.match(/(\d{1,4}([.\-/])\d{1,2}([.\-/])\d{1,4})/g)};isAnNumber2=function(t){return/^\d+\.?\d*$/.test(t)};isAnNumber(t){return"string"==typeof t&&(!isNaN(t)&&!isNaN(parseFloat(t)))}isAlphaNumeric(t){var e,s,i;for(s=0,i=t.length;s<i;s++)if(!((e=t.charCodeAt(s))>47&&e<58||e>64&&e<91||e>96&&e<123))return!1;return!0}formatData=function(t){if("number"===this.getTypeOf(t)){let e=this.options.numberLocal;t=Intl.NumberFormat(e).format(t)}return t};sets=function(t){return Object.hasOwn(this.options,t)?this.options[t]:null};randomString=()=>Math.floor(Math.random()*Date.now()).toString(36);valOrRandom=function(t){return t||this.randomString()};valToPx=function(t){return`${parseFloat(t)} px`};safeParseInt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=parseFloat(t);return isNaN(s)?e:s};joinObj=function(t,e){return Object.assign(t,e)};stylize=function(t,e){if(void 0!==e&&"internal"===this.options.stylize)if("string"!=typeof e){if(Object.keys(e).length)for(const s in e)t.style[s]=e[s]}else this.addClass(t,e)};addStyleRule=function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)};msg=function(t){return this.text[t]||""};styles={clearsearch:{float:"right",width:"16px",left:"18px",top:"4px",position:"relative",cursor:"pointer"},gutter:{backgroundColor:"#4668ED",opacity:.45,userSelect:"none",top:0,right:0,width:"4px",height:"100%",cursor:"col-resize",position:"absolute",zIndex:100},splitter:{backgroundColor:"#4668ED",left:"4px",width:"1px",position:"relative",zIndex:100},gutterhover:{opacity:.75,width:"4px"},gutterout:{opacity:.45,width:"4px"},sorter:{pointerEvents:"none",width:"16px",top:"8px",float:"right",left:"2px",position:"absolute",display:"none"},sorterhover:{display:"",cursor:"pointer",backgroundColor:"red"},tools:{position:"sticky",top:0,"z-index":1,width:"95%"},tabletools:{float:"left",backgroundColor:"#fff",overflow:"hidden",margin:"2rem 20px 1rem",marginBottom:"12px",marginTop:"25px",borderRadius:"5px",overflow:"hidden",padding:"0.8rem",border:"solid 1px rgb(0,0,0,0.1)",display:"flex",justifyContent:"center",alignItems:"center"},fieldselector:{marginTop:"0.5rem",paddingBottom:"5px",marginLeft:"1rem",width:"24%"},opselector:{marginTop:"0.5rem",paddingBottom:"5px",marginLeft:"1rem"},searchinput:{backgroundRepeat:"no-repeat",borderRadius:"4px 24px 24px 24px",border:"1px solid #ddd",padding:"12px 20px 12px 40px",marginBottom:"12px",marginTop:"0.3rem",marginRight:"5px",float:"right",width:"40%",position:"relative !important"},search:{border:"1px solid rgb(221, 221, 221)",marginRight:"5px",width:"60%",float:"right",marginTop:"1.2rem",marginBottom:"1rem"},boxlist:{display:"block",position:"absolute",padding:"20px",opacity:1,overflow:"auto",zIndex:1,backgroundColor:"whitesmoke",border:"solid 1px rgb(0,0,0,0.1)"},checkboxes:{margin:"0",listStyle:"none",float:"left",paddingLeft:"5px"},icontools:{border:"solid 1px rgb(0,0,0,0.08)",width:"32px",height:"32px",boxSizing:"border-box",cursor:"pointer",marginRight:"5px",display:"flex",justifyContent:"center",alignItems:"center"},filter:{},fields:{},trpager:{backgroundColor:"#F0F0F0",lineHeight:"0.5rem",width:"100%",bottom:"0",position:"sticky",textAlign:"right"},tdpager:{paddingRight:"20px",height:"0.8rem",width:"100%",margin:"15px",padding:"5px",height:"32px"},pagerbotton:{borderRadius:"6px",border:"none",background:"#d7d7d7",alignItems:"center",padding:"6px 19px",fontFamily:"-apple-system, BlinkMacSystemFont, Roboto, sans-serif",marginLeft:"10px",marginRight:"10px",height:"28px"},arrowleft:{width:"33px",height:"33px",border:"2px solid #333",borderLeft:"0",borderTop:"0",transform:"rotate(135deg)"},arrowright:{width:"33px",height:"33px",border:"2px solid #333",borderLeft:"0",borderTop:"0",transform:"rotate(315deg)"},pagermessage:{},statusbar:{position:"absolute",bottom:"0px",width:"99%",padding:"5px",height:"40px",textAlign:"right",fontSize:"0.875em",lineHeight:"0.5rem",backgroundColor:"#F0F0F0",border:"1px solid rgb(221, 221, 221)",borderRightStyle:"outset",borderBottomStyle:"outset",borderRightWidth:"1px",display:"block",marginLeft:"auto",marginRight:"auto",clear:"both"},tdwrap:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}};images={close:'<svg xmlns="http://www.w3.org/2000/svg" width="800" height="800" fill="none" viewBox="0 0 24 24"><path fill="#BFBFBF" d="M1.25 7.25a6 6 0 0 1 6-6h9.5a6 6 0 0 1 6 6v9.5a6 6 0 0 1-6 6h-9.5a6 6 0 0 1-6-6v-9.5Z"/><path fill="#000" fill-rule="evenodd" d="M7.183 7.183a.625.625 0 0 1 .884 0l8.75 8.75a.625.625 0 1 1-.883.884l-8.751-8.75a.625.625 0 0 1 0-.884Z" clip-rule="evenodd"/><path fill="#000" fill-rule="evenodd" d="M16.817 7.183a.625.625 0 0 1 0 .884l-8.75 8.75a.625.625 0 1 1-.884-.883l8.75-8.751a.625.625 0 0 1 .884 0Z" clip-rule="evenodd"/></svg>',clear:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="m10 12.6.7.7 1.6-1.6 1.6 1.6.8-.7L13 11l1.7-1.6-.8-.8-1.6 1.7-1.6-1.7-.7.8 1.6 1.6-1.6 1.6zM1 4h14V3H1v1zm0 3h14V6H1v1zm8 2.5V9H1v1h8v-.5zM9 13v-1H1v1h8z"/></svg>',sortup:'<svg width="16" height="16" viewBox="0 0 24 24" data-name="Flat Color" xmlns="http://www.w3.org/2000/svg" class="icon flat-color"><path d="m19.71 6.29-3-3a1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 1.42 1.42L15 6.41V20a1 1 0 0 0 2 0V6.41l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42Z" style="fill:#66ff00"/><path d="M11.71 16.29a1 1 0 0 0-1.42 0L9 17.59V4a1 1 0 0 0-2 0v13.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42Z" style="fill:#fff"/></svg>',sortdown:'<svg width="16" height="16" viewBox="0 0 24 24" data-name="Flat Color" xmlns="http://www.w3.org/2000/svg" class="icon flat-color"><path d="m19.71 6.29-3-3a1 1 0 0 0-1.42 0l-3 3a1 1 0 0 0 1.42 1.42L15 6.41V20a1 1 0 0 0 2 0V6.41l1.29 1.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42Z" style="fill:#fff"/><path d="M11.71 16.29a1 1 0 0 0-1.42 0L9 17.59V4a1 1 0 0 0-2 0v13.59l-1.29-1.3a1 1 0 0 0-1.42 1.42l3 3a1 1 0 0 0 1.42 0l3-3a1 1 0 0 0 0-1.42Z" style="fill:#6f0"/></svg>',sortup2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21"><path fill="none" stroke="#FF0" d="m10.5 12.5 4 4.107 4-4.107"/><path fill="none" stroke="#FFF" d="m10.5 8.5-4-4-4 3.997m4-3.997v12"/><path stroke="#FF0" d="M14.5 4.5v12"/></svg>',sortdown2:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21"><path fill="none" stroke="#FFF" d="m10.5 12.5 4 4.107 4-4.107"/><path fill="none" stroke="#FF0" d="m10.5 8.5-4-4-4 3.997m4-3.997v12"/><path stroke="#FFF" d="M14.5 4.5v12"/></svg>',rowup:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 4 3 15h6v5h6v-5h6z" class="icon_svg-stroke icon_svg-fill" stroke-width="1.5" stroke="#666" fill="none" stroke-linejoin="round"></path></svg>',rowdown:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m12 20 9-11h-6V4H9v5H3z" class="icon_svg-stroke icon_svg-fill" stroke="#666" fill="none" stroke-width="1.5" stroke-linejoin="round"></path></svg>',filter:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M1 2h14v2L9 9v7l-2-2V9L1 4V2zm0-2h14v1H1V0z"/></svg>',fields:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M4 3v4h11V3zm0 10h7V9H4zm1-3h5v2H5zm-4 5h1.4V1H1z"/></svg>',hide:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xml:space="preserve"><path d="m375.808 143.28-11.504-11.12-108.128 111.984L148.032 132.16l-11.488 11.12 108.512 112.384-108.512 112.368 11.488 11.12 108.144-111.984 108.128 111.984 11.504-11.12-108.512-112.368z"/><path d="M0 0v512h512V0H0zm496.032 496.032H15.968V15.968h480.064v480.064z"/></svg>',arrowdown:'<svg viewBox="0 0 24 24"><path stroke="#FFF" d="m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/></svg>',arrowup:'<svg viewBox="0 0 24 24"><path stroke="#FFF" d="m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"/></svg>',timer:'<svg width="24" height="24" viewBox="0 0 0.72 0.72" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"><path d="M.453.379.39.343V.21a.03.03 0 0 0-.06 0v.15a.03.03 0 0 0 .015.026l.078.045a.03.03 0 1 0 .03-.052ZM.36.06a.3.3 0 1 0 .3.3.3.3 0 0 0-.3-.3Zm0 .54A.24.24 0 1 1 .6.36.24.24 0 0 1 .36.6Z"/></svg>'};colors={lemon:"filter: invert(81%) sepia(61%) saturate(1686%) hue-rotate(64deg) brightness(93%) contrast(113%)",red:"filter: invert(19%) sepia(96%) saturate(7491%) hue-rotate(360deg) brightness(103%) contrast(106%)",blue:"filter: invert(8%) sepia(100%) saturate(7495%) hue-rotate(248deg) brightness(94%) contrast(143%)",white:"filter: invert(100%) sepia(89%) saturate(2%) hue-rotate(70deg) brightness(112%) contrast(100%)",jsgutter:"filter: invert(43%) sepia(15%) saturate(7274%) hue-rotate(194deg) brightness(100%) contrast(105%);"};i18n={es:{boxtitle:"<p>Cambiar columnas",clearinput:"Clear input field",sortasc:"Ordenar ascendentemente",toolsfilter:"Mostrar/Ocultar",toolsfields:"Seleccione columnas",searchinput:"Escriba su busqueda",page:"pág",of:"de",prev:"<",next:">"}};compare={includes:function(t,e){return t.includes(e)},"<":function(t,e){return t<e},">":function(t,e){return t>e},"<=":function(t,e){return t<=e},">=":function(t,e){return t>=e},"!=":function(t,e){return t!==e},"=":function(t,e){return t==e}};viewCategory=function(t){let e="640",s="1007";return parseInt(t)<=parseInt(e)?"small":parseInt(t)<=parseInt(s)?"medium":"large"}}
